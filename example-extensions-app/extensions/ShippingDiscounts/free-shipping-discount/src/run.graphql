query RunInput(
  $customerEligibilityWhitelistTags: [String!],
  $customerEligibilityBlacklistTags: [String!]
) {
  cart {
    buyerIdentity {
      customer {
        email
        staff: hasAnyTag(tags: ["Staff"])
        inWhitelist: hasAnyTag(tags: $customerEligibilityWhitelistTags)
        inBlacklist: hasAnyTag(tags: $customerEligibilityBlacklistTags)
      }
      isAuthenticated
    }
    deliveryGroups {
      id
      deliveryOptions {
        code
        cost {
          amount
        }
        deliveryMethodType
        handle
        title
      }
    }
  }
  discountNode {
    metafield(namespace: "$app:discount", key: "function-configuration") {
      value
    }
  }
}
